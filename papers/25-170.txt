To: J3                                                     J3/25-170
From: Van Snyder
Subject: NORM2 needs a MASK argument
Date: 2025-September-24
Reference: 25-007


Rationale
---------

Some data sets, expecially geophysical data sets, use a special value,
such as -999 to indicate "no data."

If such values are included when NORM2 is used, for example to calculate
standard deviation, the result is incorrect.

The presently available solution is to use PACK to select the desired
array elements, but it seems more likely that the processor will create
a temporary array than to optimize the calculation and calculate NORM2
using only the desired elements.

Proposal
--------

Add a MASK argument to NORM2 that works like the MASK argument to SUM.

NORM2 ( X [, MASK] ) or NORM2 ( X, DIM [, MASK] )
